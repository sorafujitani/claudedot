# Issue-Driven Design Skill 使用ガイド

## 概要

このスキルは、安宅和人氏の「イシューからはじめよ」の方法論をソフトウェア設計に適用し、再現性のある設計ドキュメントを生成します。

## インストール

### Claude Code Custom Commandとして配置

```bash
# スキルディレクトリをClaude Codeの設定場所にコピー
cp -r issue-driven-design ~/.claude/skills/
```

または、プロジェクトルートに `.claude/skills/` ディレクトリを作成して配置:

```bash
mkdir -p .claude/skills
cp -r issue-driven-design .claude/skills/
```

## 使用方法

### 基本的な使い方

1. 設計したい内容を自然言語で伝える:

```
新しい決済システムを設計したい。
現状: Stripeを使用、月間10万トランザクション
達成したい: 複数決済手段対応、PCI DSS準拠
制約: 3ヶ月、予算$50k
仮説: Payment Gateway層を抽象化すれば複数プロバイダに対応できる
懸念: トランザクション整合性、障害時のフォールバック
```

2. または、テンプレートを使用:

```
references/input-template.md を参照して設計入力を準備してください
```

### 出力される内容

- **Issue定義**: 解決すべき問題の明確化
- **設計判断**: メイン論点とサブ論点の構造化
- **アーキテクチャ**: Mermaid図による視覚化
- **実装例**: 具体的なコードサンプル
- **防御的レビュー**: リスクマトリクス、セキュリティ考慮
- **テスト計画**: 検証戦略
- **参照**: 公式ドキュメントへのリンク

## ファイル構成

```
issue-driven-design/
├── SKILL.md                           # メインスキル定義
└── references/
    ├── input-template.md              # 入力テンプレート
    ├── defensive-patterns.md          # 防御的設計パターン集
    └── examples/
        ├── batch-processing.md        # バッチ処理設計例
        └── api-design.md              # API設計例
```

## 設計フィロソフィー

### 1. イシューありき
何を解決するのかを最初に明確化。曖昧な要求を「白黒つけられる問い」に変換。

### 2. 仮説ドリブン
設計仮説とそれを支えるサブ論点を構造化。各論点は検証可能・独立・網羅的。

### 3. アウトプットドリブン
論理が崩れると全体が崩壊する上流課題から着手。Critical Pathを特定。

### 4. メッセージドリブン
曖昧さのない、検証可能な設計判断。全ての主張にエビデンス（URL/引用）を付与。

## 拡張方法

このスキルは教師データとして機能し、以下のルールで成長します:

1. **追加のみ**: 既存の構造・責務は変更しない
2. **拡張**: 新しいドメイン知識は `references/examples/` にファイル追加
3. **事例蓄積**: 成功した設計パターンをExamplesに追加
4. **フィードバック反映**: レビュー指摘をAnti-patternsに追加

### 新しい設計例を追加する場合

```bash
# 新しい設計例を追加
cat > references/examples/event-driven.md << 'EOF'
# Event-Driven Architecture Example
...
EOF
```

## ベストプラクティス

### Do
- 定量的な成功指標を設定する
- 公式ドキュメントのURLを参照に含める
- 代替案を検討し、選択理由を明記する
- 障害モードと対策を網羅する

### Don't
- 根拠なき「〜すべき」
- 検証不能な主張
- Happy pathのみの設計
- 運用観点の欠落

## 関連リソース

- [イシューからはじめよ](https://kaz-ataka.hatenablog.com/entry/20081018/1224287687) - 安宅和人氏のオリジナル記事
- [書籍: イシューからはじめよ](https://www.amazon.co.jp/dp/4862760856) - 英治出版
